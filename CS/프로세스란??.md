---
title: "프로세스란??"
date: 2022-05-18
categories: [CS]
---

## 프로세스란 무엇인가??

실행중인 프로그램을 뜻한다. 즉, 실행파일 형태로 존재하던 프로그램에 메모리에 적재되어 CPU에 의해 실행(연산)되는 것을 프로세스라고 한다.

프로그램이란 저장장치(하드디스크)에 저장되어있는 `정적`인 상태이고,  
프로세스는 실행을 위해 `메모리`에 올라온 `동적`인 상태이다.  
(작성한 프로그램이 `실행`되면 프로세스가 된다.)

이를 요리에 비유하면,  
한 요리사는 자신의 요리 비법이 담긴 `레시피`를 가지고 있다. 레시피는 어떤 재료를 가지고 어떻게 조리할지 그 절차를 적어 놓은 것이다.(프로그램) 레시피가 실제 요리로 탕생하려면 주방에서 레시피에 따라 `조리`를(프로세스) 해야한다. 레시피는 정적인 상태로 존재하며 요리를 통해 실제로 구현된다.

> **프로그램에서 프로세스로의 전환**

앞서 예를 들어 설명한 요리가 되는 과정(프로그램에서 프로세스로의 전환)을 컴퓨터의 관점에서 설명해 보면 다음과 같다.

우선 운영체제는 프로그램을 메모리의 적당한 위치로 가져온다. 그와 동시에 주문서(요리 주문)에 해당하는 작업 지시서를 만드는데, 이 작업 지시서가 프로세스 제어 블록이다.

주문서에는 어떤 테이블에서 어떤 요리를 주문했는지, 손님의 특별 주문 사항은 무엇인지, 현재 어떤 단품 요리까지 제공되었는지 등과 같은 정보가 담겨있다. 마찬가지로 프로세스 제어 블록에도 프로세스를 처리하는 데 필요한 다양한 정보가 들어 있다.

주문서가 없으면 요리가 진행되지 않듯이 프로세스 제어 블록이 없으면 프로그램이 프로세스로 전환되지 못한다. 어떤 프로그램이 프로세스가 되었다는 것은 운영체제로부터 프로세스 제어 블록을 받았다는 의미이다.

**프로세스 제어 블록에 있는 다양한 정보 중 대표적인 세가지는 다음과 같다.**

-   **프로세스 구분자**: 메모리에는 여러 개의 프로세스가 존재하므로 각 프로세스를 구분하는 구분자(IDentification, ID)가 필요하다. 레스토랑의 주문서에 일련번호가 있듯이 프로세스를 구분하기 위해 프로세스 구분자가 있다.
    
-   **메모리 관련 정보**: CPU는 실행하려는 프로세스가 메모리의 어디에 저장되어 있는지를 알아야 작업을 할 수 있다. 이를 위해 프로세스 제어 블록에는 프로세스의 메모리 위치 정보가 담겨 있다. 또한 메모리 보호를 위한 경계 레지스터와 한계 레지스터도 포함되어 있다.
    
-   **각종 중간값**: 프로세스 제어 블록에는 프로세스가 사용했던 중간값이 저장되는데, 이는 현재 어떤 단품 요리까지 손님에게 제공되었는지 주문서에 표시하는 것과 유사하다. 시분할 시스템에서는 여러 프로세스가 번갈아가며 실행되기 때문에 각 프로세스는 일정 시간 작업을 한 후 다른 프로세스에 CPU를 넘겨준다.  
    프로세스 A가 103번 행까지 작업한 후 다른 프로세스에 CPU를 넘겨주었다고 가정하자. 시간이 흘러 다시 프로세스 A의 차례가 되면 104번 행부터 작업을 시작해야 한다. 이를 위해 프로세스 제어 블록에는 다음에 작업해야 할 코드의 위치가 담긴 레지스터인 프로그램 카운터가 저장된다. 또한 작업의 중간값을 보관 중인 다른 레지스터도 같이 저장된다. 이렇게 저장된 값은 작업을 계속 진행할 수 있게 해준다.
    

> **결론적으로,**

하나의 프로세스를 실행(프로그램에서 프로세스로의 전환) 하려면 프로세스 구분자, 메모리 관련 정보, 프로그램 카운터와 각종 레지스터 같은 중간값을 관리해야 하며, 이러한 정보를 보관하는 데이터 구조가 프로세스 제어 블록이다. 프로그램이 프로세스가 되려면 메모리에 올라오는 것과 동시에 프로세스 제어 블록이 생성되어야 한다.

> **프로세스의 상태**

-   **생성 상태**: 프로그램이 메모리에 올라오고 운영체제로부터 프로세스 제어블록을 할당받은 상태이다. 생성된 프로세스는 바로 실행되는 것이 아니라 준비 상태에서 자기 순서를 기다리며, 프로세스 제어 블록도 같이 준비 상태로 옮겨진다.
    
-   **준비 상태**: 실행 대기 중인 모든 프로세스가 자기 순서를 기다리는 상태이다. 프로세스 제어 블록은 준비 큐에서 기다리며 CPU 스케줄러에 의해 관리된다.
    
-   **실행 상태**: 프로세스가 CPU를 할당받아 실행되는 상태이다. 준비 상태에 있는 많은 프로세스 중 실행 상태에 들어가는 프로세스는 CPU의 개수 만큼이다. 실행 상태에 있는 프로세스는 자신에게 주어진 시간, 즉 타임 슬라이스 동안만 작업할 수 있다. 그 시간을 다 사용하면 타임아웃이 되고 해당 프로세스는 실행 상테에서 준비 상태로 옮겨진다.
    
-   **대기 상태**: 실행 상태에 있는 프로세스가 입출력을 요청하면 입출력이 완료될 때까지 기다리는 상태로 'wait status'라고도 한다. 대기 상태는 작업의 효율 (대기 상태가 없다면 CPU는 해당 프로세스의 입출력이 완료될 때 까지 아무것도 하지 않고 기다리게 된다.)  
    을 위해 만들어진 것으로, 대기 상태의 프로세스는 입출력장치별로 마련된 큐에서 기다린다.
    
-   **완료 상태**: 프로세스가 종료되는 상태이다. 완료 상태에서는 코드와 사용했던 데이터를 메모리에서 삭제하고 프로세스 제어 블록을 폐기한다.
    

> **프로세스의 구조**

프로세스는 `코드 영역`, `데이터 영역`, `스택 영역`으로 구성된다.

예를 들어 워드프로세서 프로그램을 실행하면 이 프로그램의 코드는 코드 영역에 탑재되고, 워드프로세서로 편집 중인 문서는 데이터 영역에 탑재된다. 또한 운영체제가 워드프로세서를 작동하기 위해 사용하는 각종 부가 데이터는 스택 영역에서 관리한다.

-   **코드 영역**: 프로그램의 본문이 기술된 곳으로 텍스트 영역이라고도 한다. 프로그래머가 작성한 프로그램은 코드 영역에 탑재되며 탑재된 코드는 읽기전용으로 처리 된다.
    
-   **데이터 영역**: 코드가 실행되면서 사용하는 변수나 파일 등의 각종 데이터를 모아놓은 곳이다. 데이터는 변하는 값이기 때문에 이곳의 내용은 기본적으로 읽기와 쓰기가 가능하다.
    
-   **스택 영역**: 운영체제가 프로세스를 실행하기 위해 부수적으로 필요한 데이터를 모아놓은 곳이다. 예를 들어 프로세스 내에서 함수를 호출하면 함수를 수행하고 원래 프로그램으로 되돌아올 위치를 이 영역에 저장한다. 스택 역영은 운영체제가 사용자의 프로세스를 작동하기 위해 유지하는 영역이므로 사용자에게는 보이지 않는다.